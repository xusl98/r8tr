<ion-header>
  <ion-toolbar>
    <ion-buttons *ngIf="currentMovie" slot="start">
      <ion-button (click)="cancel()">Back</ion-button>
    </ion-buttons>
    <ion-title>Movies</ion-title>
    <ion-buttons *ngIf="currentMovie" slot="end">
      <ion-button (click)="openEditModal()" [strong]="true">Edit</ion-button>
      <!-- <ion-button (click)="edit()" [strong]="true"><ion-icon name="create"></ion-icon></ion-button> -->
    </ion-buttons>
  </ion-toolbar>
</ion-header>


  <ion-content *ngIf="currentMovie">
    <movie-view (deleteMovie)="deleteMovie()" [movie]="currentMovie"></movie-view>
  </ion-content>
  <ion-content *ngIf="!currentMovie">
    <!-- <ion-button (click)="toggleInfiniteScroll()" expand="block">
      Toggle Infinite Scroll
    </ion-button>
  
    <ion-list></ion-list>
  
    <ion-infinite-scroll threshold="100px" (ionInfinite)="loadData($event)">
      <ion-infinite-scroll-content
        loadingSpinner="bubbles"
        loadingText="Loading more data...">
      </ion-infinite-scroll-content>
    </ion-infinite-scroll> -->
    <!-- <ionic-rating-component #rating
        activeColor = "#488aff" 
        defaultColor = "#f4f4f4"
        readonly="false"
        rating="3"
        fontSize = "32px"
        (ratingChanged)="onRatingChange($event)">
    </ionic-rating-component> -->

    <!-- LIST -->

    <!-- TODO: HACER BUSCADOR -->

    <ion-grid>
      <!-- <ion-row>
        <ion-col size="1">Rating</ion-col>
        <ion-col size="10">Name</ion-col>
        <ion-col size="1">Release Year</ion-col>
      </ion-row> -->
      <div *ngIf="movies.length == 0" style="text-align: center; padding-top: 4vh;">No movies to load.</div>
      <ion-row *ngFor="let movie of movies; let index" (click)="viewMovie(movie.id)">
        <ion-col size="2"><ion-badge color="primary">{{ movie.rating }}</ion-badge></ion-col>
        <ion-col size="8">{{ movie.name }}</ion-col>
        <ion-col size="2">{{ movie.releaseYear }}</ion-col>
      </ion-row>
    </ion-grid>
    <!-- <ion-list>
      <ion-item *ngFor="let movie of movies; let index">
        <ion-avatar slot="start">
          <img [src]="'https://picsum.photos/80/80?random=' + index" alt="avatar" />
        </ion-avatar>
        <ion-icon name="star-half" slot="start"></ion-icon>
        <ion-icon name="star" slot="start"></ion-icon>
        <ion-label>{{ movie.name }}</ion-label>
      </ion-item>
    </ion-list>
    <ion-infinite-scroll (ionInfinite)="onIonInfinite($event)">
      <ion-infinite-scroll-content></ion-infinite-scroll-content>
    </ion-infinite-scroll> -->
    <!-- LIST -->

    <!-- ADD NEW MOVIE -->
    <ion-fab slot="fixed" vertical="bottom" horizontal="end">
      <ion-fab-button>
        <ion-icon id="open-edit-modal"  (click)="openEditModal()"  name="add"></ion-icon>
      </ion-fab-button>
    </ion-fab>

  </ion-content>
  <!-- ADD NEW MOVIE -->
  